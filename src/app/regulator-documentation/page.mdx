export const metadata = {
  title: 'Contacts',
  description:
    'On this page, we’ll dive into the different contact endpoints you can use to manage contacts programmatically.',
}

# Prerequisite {{ className: 'text-4xl'}}
This API provides external access to the NCC Regulator, allowing telcos that are already pre-approved to bypass the standard onboarding workflow.

## Authentication
Clients must include a valid **Bearer Token** in the `Authorization` header of each request.

## Properties
- **Auth Type:** Bearer Token
- **Token Endpoint:** `POST /api/auth/token`

## API Endpoints Overview
<div>
  <table class="w-full border-collapse shadow-sm">
    <thead>
      <tr>
        <th class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4 py-1 text-left font-semibold">Method</th>
        <th class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4 py-1 text-left font-semibold">Endpoint</th>
        <th class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4 py-1 text-left font-semibold">Purpose</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">POST</td>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">/api/ncc/v1/onboard-entity</td>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">
          Onboard telco entity and admin via NCC bypass
        </td>
      </tr>
      <tr>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">POST</td>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">/api/ncc/v1/upload-document</td>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">
          Upload required entity documents
        </td>
      </tr>
      <tr>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">POST</td>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">/api/ncc/v1/login</td>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">
          Log in as the onboarded entity admin
        </td>
      </tr>
    </tbody>
  </table>
</div>

## 1. Onboard Entity

**Endpoint:** `POST /api/ncc/v1/onboard-entity`  
**Description:** Registers a new telco entity along with its admin by bypassing the standard onboarding flow. Intended for entities pre-approved by NCC.

### Request

- **Content-Type:** `application/json`

<CodeGroup>

```json {{ language: 'js' }}
{
  "cac": "string",
  "name": "string",
  "isDocumentRequired": true,
  "adminName": "string",
  "adminPhone": "string",
  "adminEmail": "string",
  "adminPassword": "string"
}
```
</CodeGroup>

### Response

- **Status Code:** `200 OK`

<CodeGroup>

```json {{ language: 'js' }}
{
  "status": "string",
  "data": {
    "entityUid": "uuid",
    "entityName": "string",
    "cacNo": "string",
    "entityType": "NCC",
    "entityStatus": "Approved",
    "isDocumentRequired": true,
    "adminUid": "uuid",
    "adminName": "string",
    "adminEmail": "string",
    "adminPhone": "string",
    "isAdminVerified": true,
    "message": "string"
  },
  "statusCode": "string"
}
```
</CodeGroup>

## 2. Upload documents

**Endpoint:** `POST /api/ncc/v1/upload-document`  
**Description:** Uploads required documents for an onboarded entity. This is only necessary if `isDocumentRequired = true`.

###  Request

- **Content-Type:** `multipart/form-data`

<div>
  <table class="w-full border-collapse shadow-sm">
    <thead>
      <tr>
        <th class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4 py-1 text-left font-semibold">Field</th>
        <th class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4 py-1 text-left font-semibold">Type</th>
        <th class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4 py-1 text-left font-semibold">Required</th>
        <th class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4 py-1 text-left font-semibold">Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">type</td>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">string</td>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">✅</td>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">
          Type of document being uploaded
        </td>
      </tr>
      <tr>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">file</td>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">binary</td>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">✅</td>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">
          Document file (PDF, image, etc.)
        </td>
      </tr>
      
    </tbody>
  </table>
</div>

###  Response

- **Status Code:** `200 OK`

<CodeGroup>
```json
{
  "status": "string",
  "data": "string",
  "statusCode": "string"
}
```
</CodeGroup>

##  3. Admin Login

**Endpoint:** `POST /api/ncc/v1/login`  
**Description:** Authenticates the admin user created through the NCC regulator bypass. On success, returns a session token and basic user details.

###  Request

- **Content-Type:** `application/json`

```json
{
  "email": "string",
  "password": "string"
}
```

###  Response

- **Status Code:** `200 OK`

```json
{
  "status": "string",
  "data": {
    "fullName": "string",
    "userType": "REGULATOR",
    "tokenMeta": {
      "token": "string",
      "expiration": "2025-07-10T11:35:01.342Z"
    },
    "isVerified": true
  },
  "statusCode": "string"
}
```

---

##  Notes & Guidelines

- Entities onboarded through this API are **automatically approved**.
- The `isDocumentRequired` flag determines whether the document upload step is mandatory.
- Ensure that both `adminEmail` and `adminPhone` are **unique** in the system to avoid conflicts.

##  Glossary
<div>
  <table class="w-full border-collapse shadow-sm">
    <thead>
      <tr>
        <th class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4 py-1 text-left font-semibold">Term</th>
        <th class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4 py-1 text-left font-semibold">Definition</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">
          **Bearer Token** 
        </td>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">
          A token included in the **Authorization** header for secure API access. 
        </td>
      </tr>

      <tr>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">**CAC**</td>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">
          A token included in the **Authorization** header for secure API access.  
        </td>
      </tr>

      <tr>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">**Entity**</td>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">
           A telco or service provider being onboarded into the system. 
        </td>
      </tr>

      <tr>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">**Admin**</td>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">
           The main administrative user associated with a telco entity. 
        </td>
      </tr>

      <tr>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">**UUID**</td>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">
           Universally Unique Identifier used to identify records like entities and users. 
        </td>
      </tr>

      <tr>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">**Multipart/Form-Data**</td>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">
           A content type used for submitting files and form data in the same request. 
        </td>
      </tr>

      <tr>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">**Verified Admin**</td>
        <td class="border-[0.5px] border-[#2D2D2F] bg-[#1D1D20] px-4">
            An admin whose phone number/email has passed validation. 
        </td>
      </tr>
    </tbody>
  </table>
</div>



{/* <Properties>
  <Property name="id" type="string">
    Unique identifier for the contact.
  </Property>
  <Property name="username" type="string">
    The username for the contact.
  </Property>
  <Property name="phone_number" type="string">
    The phone number for the contact.
  </Property>
  <Property name="avatar_url" type="string">
    The avatar image URL for the contact.
  </Property>
  <Property name="display_name" type="string">
    The contact display name in the contact list. By default, this is just the
    username.
  </Property>
  <Property name="conversation_id" type="string">
    Unique identifier for the conversation associated with the contact.
  </Property>
  <Property name="last_active_at" type="timestamp">
    Timestamp of when the contact was last active on the platform.
  </Property>
  <Property name="created_at" type="timestamp">
    Timestamp of when the contact was created.
  </Property>
</Properties>

---

## List all contacts {{ tag: 'GET', label: '/v1/contacts' }}

<Row>
  <Col>

    This endpoint allows you to retrieve a paginated list of all your contacts. By default, a maximum of ten contacts are shown per page.

    ### Optional attributes

    <Properties>
      <Property name="limit" type="integer">
        Limit the number of contacts returned.
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/v1/contacts">

    ```bash {{ title: 'cURL' }}
    curl -G https://api.protocol.chat/v1/contacts \
      -H "Authorization: Bearer {token}" \
      -d active=true \
      -d limit=10
    ```

    ```js
    import ApiClient from '@example/protocol-api'

    const client = new ApiClient(token)

    await client.contacts.list()
    ```

    ```python
    from protocol_api import ApiClient

    client = ApiClient(token)

    client.contacts.list()
    ```

    ```php
    $client = new \Protocol\ApiClient($token);

    $client->contacts->list();
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "has_more": false,
      "data": [
        {
          "id": "WAz8eIbvDR60rouK",
          "username": "FrankMcCallister",
          "phone_number": "1-800-759-3000",
          "avatar_url": "https://assets.protocol.chat/avatars/frank.jpg",
          "display_name": null,
          "conversation_id": "xgQQXg3hrtjh7AvZ",
          "last_active_at": 705103200,
          "created_at": 692233200
        },
        {
          "id": "hSIhXBhNe8X1d8Et"
          // ...
        }
      ]
    }
    ```

  </Col>
</Row>

---

## Create a contact {{ tag: 'POST', label: '/v1/contacts' }}

<Row>
  <Col>

    This endpoint allows you to add a new contact to your contact list in Protocol. To add a contact, you must provide their Protocol username and phone number.

    ### Required attributes

    <Properties>
      <Property name="username" type="string">
        The username for the contact.
      </Property>
      <Property name="phone_number" type="string">
        The phone number for the contact.
      </Property>
    </Properties>

    ### Optional attributes

    <Properties>
      <Property name="avatar_url" type="string">
        The avatar image URL for the contact.
      </Property>
      <Property name="display_name" type="string">
        The contact display name in the contact list. By default, this is just the username.
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="POST" label="/v1/contacts">

    ```bash {{ title: 'cURL' }}
    curl https://api.protocol.chat/v1/contacts \
      -H "Authorization: Bearer {token}" \
      -d username="FrankMcCallister" \
      -d phone_number="1-800-759-3000" \
      -d avatar_url="https://assets.protocol.chat/avatars/frank.jpg"
    ```

    ```js
    import ApiClient from '@example/protocol-api'

    const client = new ApiClient(token)

    await client.contacts.create({
      username: 'FrankMcCallister',
      phone_number: '1-800-759-3000',
      avatar_url: 'https://assets.protocol.chat/avatars/frank.jpg',
    })
    ```

    ```python
    from protocol_api import ApiClient

    client = ApiClient(token)

    client.contacts.create(
      username="FrankMcCallister",
      phone_number="1-800-759-3000",
      avatar_url="https://assets.protocol.chat/avatars/frank.jpg",
    )
    ```

    ```php
    $client = new \Protocol\ApiClient($token);

    $client->contacts->create([
      'username' => 'FrankMcCallister',
      'phone_number' => '1-800-759-3000',
      'avatar_url' => 'https://assets.protocol.chat/avatars/frank.jpg',
    ]);
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "id": "WAz8eIbvDR60rouK",
      "username": "FrankMcCallister",
      "phone_number": "1-800-759-3000",
      "avatar_url": "https://assets.protocol.chat/avatars/frank.jpg",
      "display_name": null,
      "conversation_id": "xgQQXg3hrtjh7AvZ",
      "last_active_at": null,
      "created_at": 692233200
    }
    ```

  </Col>
</Row>

---

## Retrieve a contact {{ tag: 'GET', label: '/v1/contacts/:id' }}

<Row>
  <Col>

    This endpoint allows you to retrieve a contact by providing their Protocol id. Refer to [the list](#the-contact-model) at the top of this page to see which properties are included with contact objects.

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/v1/contacts/WAz8eIbvDR60rouK">

    ```bash {{ title: 'cURL' }}
    curl https://api.protocol.chat/v1/contacts/WAz8eIbvDR60rouK \
      -H "Authorization: Bearer {token}"
    ```

    ```js
    import ApiClient from '@example/protocol-api'

    const client = new ApiClient(token)

    await client.contacts.get('WAz8eIbvDR60rouK')
    ```

    ```python
    from protocol_api import ApiClient

    client = ApiClient(token)

    client.contacts.get("WAz8eIbvDR60rouK")
    ```

    ```php
    $client = new \Protocol\ApiClient($token);

    $client->contacts->get('WAz8eIbvDR60rouK');
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "id": "WAz8eIbvDR60rouK",
      "username": "FrankMcCallister",
      "phone_number": "1-800-759-3000",
      "avatar_url": "https://assets.protocol.chat/avatars/frank.jpg",
      "display_name": null,
      "conversation_id": "xgQQXg3hrtjh7AvZ",
      "last_active_at": 705103200,
      "created_at": 692233200
    }
    ```

  </Col>
</Row>

---

## Update a contact {{ tag: 'PUT', label: '/v1/contacts/:id' }}

<Row>
  <Col>

    This endpoint allows you to perform an update on a contact. Currently, the only attribute that can be updated on contacts is the `display_name` attribute which controls how a contact appears in your contact list in Protocol.

    ### Optional attributes

    <Properties>
      <Property name="display_name" type="string">
        The contact display name in the contact list. By default, this is just the username.
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="PUT" label="/v1/contacts/WAz8eIbvDR60rouK">

    ```bash {{ title: 'cURL' }}
    curl -X PUT https://api.protocol.chat/v1/contacts/WAz8eIbvDR60rouK \
      -H "Authorization: Bearer {token}" \
      -d display_name="UncleFrank"
    ```

    ```js
    import ApiClient from '@example/protocol-api'

    const client = new ApiClient(token)

    await client.contacts.update('WAz8eIbvDR60rouK', {
        display_name: 'UncleFrank',
    })
    ```

    ```python
    from protocol_api import ApiClient

    client = ApiClient(token)

    client.contacts.update("WAz8eIbvDR60rouK", display_name="UncleFrank")
    ```

    ```php
    $client = new \Protocol\ApiClient($token);

    $client->contacts->update('WAz8eIbvDR60rouK', [
      'display_name' => 'UncleFrank',
    ]);
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "id": "WAz8eIbvDR60rouK",
      "username": "FrankMcCallister",
      "phone_number": "1-800-759-3000",
      "avatar_url": "https://assets.protocol.chat/avatars/frank.jpg",
      "display_name": "UncleFrank",
      "conversation_id": "xgQQXg3hrtjh7AvZ",
      "last_active_at": 705103200,
      "created_at": 692233200
    }
    ```

  </Col>
</Row>

---

## Delete a contact {{ tag: 'DELETE', label: '/v1/contacts/:id' }}

<Row>
  <Col>

    This endpoint allows you to delete contacts from your contact list in Protocol. Note: This will also delete your conversation with the given contact.

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="DELETE" label="/v1/contacts/WAz8eIbvDR60rouK">

    ```bash {{ title: 'cURL' }}
    curl -X DELETE https://api.protocol.chat/v1/contacts/WAz8eIbvDR60rouK \
      -H "Authorization: Bearer {token}"
    ```

    ```js
    import ApiClient from '@example/protocol-api'

    const client = new ApiClient(token)

    await client.contacts.delete('WAz8eIbvDR60rouK')
    ```

    ```python
    from protocol_api import ApiClient

    client = ApiClient(token)

    client.contacts.delete("WAz8eIbvDR60rouK")
    ```

    ```php
    $client = new \Protocol\ApiClient($token);

    $client->contacts->delete('WAz8eIbvDR60rouK');
    ```

    </CodeGroup>

  </Col>
</Row> */}
